# 马尔可夫链

## Markov Chain 含义

马尔可夫链有一个很重要的性质：**未来状态只依赖于当前状态，而不受过去状态的影响**。
不同状态之间转移的概率服从状态转移矩阵。状态的可以分为：

- Recurrent states：所有 可由状态 i 到达的状态都可以由该状态出发，经过 n 步返回状态 i。
  - 如果状态 i 是recurrent states，那么可由 i 到达的状态 A(i) 的集合（recurrent class）里所有的状态是互相可达的
- Transient states：存在 可由状态 i 到达的状态，无法从该状态返回状态 i 。

马尔可夫链可以分解成多个recurrent class，以及其他一些transient states

## absorption probabilities

如果我们想关注从初始状态到达某个指定的recurrent state，又或者是到达之前所经历的时间或次数时，当recurrent state到达以后，后面的所有行为都无关紧要了，因此每个recurrent state都是具有吸收性的（absorbing）。即
$$
p_{kk}=1\\p_{kj}=0, \forall j \neq k
$$

从状态 i 到吸收态 s 的概率为
$$
\begin{cases}
    a_s&=&1& \iff& i = s \\
    a_i&=&0& \iff& i_{absorbing}\neq s\\
    a_i&=&\sum_j p_{ij}a_i & \iff & i_{transient}
\end{cases}
$$

## expected time to absorption

我们想要知道从任何状态 i 出发最终到达一个absorption之前需要经历的步骤数等于从 i 的下个状态 j 开始到absorbing state的步骤数期望+1
$$
\begin{cases}
    \mu_s&=&0& \iff& i = s \\
    \mu_i&=1+&\sum_j p_{ij}\mu_i & \iff & i_{transient}
\end{cases}
$$
