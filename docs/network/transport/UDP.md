---
tags: network
---

# UDP

不可靠无连接的数据报服务，可能乱序也可能丢失。在[[IP]]主机到主机服务的基础上，添加了进程间的信息，不需要握手。开销小，效率高，无拥堵和阻塞控制

在 UDP 上也可以实现可靠传输，[[http]]3 就是在应用层增加可靠性([[#QUIC]])

头部比较小，开销比较小。把头部增加忽略掉，速度与 IP 传输速度基本一致，因而适合于实时性要求高的[[DNS]]、流媒体传输等方面

发送方把校验和放在 UDP 校验和字段，接收方检验是否相等判断是否有差错，可能有残存错误没有检测到
![UDP 数据报](../../../attachments/udp%20datagram.png)

## QUIC

在 UDP 报文头部与 数据之间，共有 2 层额外的头部：Packet Header 和 QUIC Frame Header，也需要三次握手

Packet Header 序列号严格递增。当数据包 Packet N 丢失后，只要有新的已接收数据包确认，当前窗口就会继续向右滑动

一个 Packet 里可以有多个 QUIC Frame，通过 Frame 里 Stream ID + Offset 字段信息实现数据的有序性，然后交给应用程序处理。

[//begin]: # "Autogenerated link references for markdown compatibility"
[IP]: ../network/IP.md "IP"
[http]: ../application/http.md "http"
[#QUIC]: UDP.md "UDP"
[DNS]: ../application/DNS.md "DNS"
[//end]: # "Autogenerated link references"
