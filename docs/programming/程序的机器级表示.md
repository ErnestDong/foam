---
tags: CS, CSAPP
---
# 程序的机器级表示

[[cpp]]代码采用 `gcc -Og` 编译，`-S` 为汇编结果。汇编的 `.` 开头的行是指导链接器和汇编期工作的可以忽略

## 汇编的基本使用

- `pushq`与`popq`：保存寄存器的值与恢复寄存器的值，见 [[计算机组成]]
- `b/w/l/q` 四个后缀分别为操作数长为 1 个 byte/1 个 word/ 2 / 3 个 word
- 指令包括 *操作码* 和 *操作数*
- 操作数可以分为三类
  - 立即数：$ 开头如 `$8` 表示
  - 寄存器：% 开头如 `%rax`
  - 内存引用：()包裹的寄存器，如 `(%rax)` 表示，`Imm(rb,ri,s)`可以是

---

### `mov`

`mov src dest` src 可以是任何操作数，而 dest 为存放 src 数据的寄存器，因而不能是一个立即数
