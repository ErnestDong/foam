---
tags: python
---

# statsmodels

可以视作 stata 的[[python]]替代品，也有部分机器学习算法（目前机器学习最流行的框架是 pytorch ）

文档：<https://www.statsmodels.org/stable/gettingstarted.html>

## 回归

```python
df = sm.datasets.get_rdataset("Guerry", "HistData").data # data loader, use pandas
x = df[['Literacy', 'Wealth']]
y = df['Lottery']
model = sm.OLS(y, x)
result = model.fit()
print(result.summary())
# print(result.summary().as_latex())
```

## 获得参数

```python
print(result.params)
print(result.rsquared)
print(result.pvalue)
```

## formula

```python
import statsmodels.formula.api as smf

smf.ols(formula="A~B+np.log(C)-1", data=df).fit().summary()
```

支持 R 风格的公式

- \\~ 代表 \\=
- \- 明晰不要某个变量：-1 代表无截距项
- : 代表两个的交互项
- \* 代表两个的交互项，此外还有他们两个单独的项
- 可以使用 np 的函数等

## 其他 statsmodels

<https://www.statsmodels.org/stable/examples/notebooks/generated/ordinal_regression.html?highlight=logistic>

[//begin]: # "Autogenerated link references for markdown compatibility"
[python]: ../python.md "python"
[//end]: # "Autogenerated link references"
