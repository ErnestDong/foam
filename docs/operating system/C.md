# C

## 程序就是状态机

C 语言的状态是 stack frame + PC + 全局变量，每执行一条语句状态就变一下。
初始状态是 `main(argc,argv)` ，迁移是执行 top frame 的 PC 语句，函数调用 push frame，返回 pop frame。

二进制文件下，也可以将程序看作是内存 M 和寄存器 R 的状态机。初始状态是加载 `加载器` libc，`main` 并非是程序的开始/结束。
在操作系统中，将程序看作是“计算”+ `syscall`，`syscall`利用中断把程序的状态全部交给操作系统，任其修改

两种状态机之间的映射是编译器，C 所有不可优化的部分都被翻译成了汇编。
**各种程序都在操作系统API `syscall` 和操作系统中的对象上构建**

## thread.h
