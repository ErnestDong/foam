---
tags: blockchain
---
# solidity

后缀名为 sol，第一行为版本号 `progma solidity >= 0.6.0 < 0.9.0;`

## `contract`

类似 `class`，定义了一个[[smart contract]]。数据类型除了常见的数据类型 (int string bool struct)外，还有 `address`，`mapping`(类似 `dict`)

```solidity
progma solidity ^0.6.0;

contract Test{
    uint256 x; // x is 0 now
    mapping(address => uint256) maps;

    function makex(uint256 _x) public returns(uint256){
        x = _x;
        return x;
    }
}
```

`function` 修改可以内部的 state(如 `x`。
如果加了关键字 `view`(类似 [[python]] 的 `@property`)或者 `pure` 不修改 state。
而如果加 `payable`，则可以支付 ETH 给某个地址

## deploy

solidity 可以将合约部署到 vm 上，如 `new Test()`，返回合约部署的地址

[//begin]: # "Autogenerated link references for markdown compatibility"
[smart contract]: <smart contract.md> "智能合约"
[python]: ../python/python.md "python"
[//end]: # "Autogenerated link references"
