---
tags: CS, OS
---
# 进程

## 进程的 c~~r~~ud

### `fork`：复制状态机

系统里面会有完全一样的两个独立的副本(寄存器、内存、库函数的内部状态)，除了 fork 的返回值(父进程为子进程编号，子进程返回值为0)

### `execve`：替换状态机

把状态机重置成某个程序的初始状态，当前状态全部抹掉

### `exit`：销毁状态机

执行 `exit` 的状态机消失，其他状态机不变

## 进程的地址空间

- vdso：只读的 `syscall`，不进入操作系统内核的系统调用
- vvar：vdso 的数据地址

syscall mmap 管理进程的地址空间，`mmap` 在进程里面创建一段新的映射/内存。通过 `mmap` 可以把文件映射到进程的地址空间里面，访问的时候再真正加载
