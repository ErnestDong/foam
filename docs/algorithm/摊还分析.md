---
tags: algorithm
---
# 摊还分析

在摊还分析中，我们求数据结构的一个操作序列中所执行的所有操作的平均时间，来评价操作的代价。
这样，我们就可以说明一个操作的平均代价是很低的，即使序列中某个单一操作的代价很高。
摊还分析不同于平均情况分析，它不涉及概率，它可以保证**最坏情况下每个操作的平均性能**。

## 聚合分析

计算$n$个操作的时间复杂度上限$T(n)$，平摊$T(n)$至每一个操作，
每一个操作的平摊成本是$T(n)/n$，所有操作被赋予相同的摊还代价

## 核算法

对不同操作赋予不同费用(可以多/少于实际代价)，即“摊还代价”，其与实际代价的差额为 `credit`，保证 $credit\ge 0$

## 势能法

将预付代价表示为“势能” $\Phi$的累积。数据结构从$D_{i-1}$到$D_i$的摊还代价为
$$\hat{c}_i=c_i+\Phi(D_i)-\Phi(D_{i-1})$$
